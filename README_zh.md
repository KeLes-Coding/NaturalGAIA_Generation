# NaturalGAIA ç”Ÿæˆæµç¨‹

[English](README.md) | **ä¸­æ–‡æ–‡æ¡£**

æœ¬ä»“åº“åŒ…å« **NaturalGAIA** çš„ç”Ÿæˆæµç¨‹ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäº Wikidata çŸ¥è¯†å›¾è°±æ„å»ºçš„æ™ºèƒ½ä½“åŸºå‡†æµ‹è¯•ã€‚è¯¥æµç¨‹è‡ªåŠ¨åŒ–äº†å­å›¾çˆ¬å–ã€é€»è¾‘ä»»åŠ¡éª¨æ¶ç”Ÿæˆä»¥åŠä½¿ç”¨ LLM å°†å…¶ç»†åŒ–ä¸ºè‡ªç„¶è¯­è¨€æŸ¥è¯¢çš„è¿‡ç¨‹ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
.
â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶ï¼ˆå·¥å…·å’Œ LLM è®¾ç½®ï¼‰
â”œâ”€â”€ src/                 # æºä»£ç 
â”‚   â”œâ”€â”€ builder.py       # çŸ¥è¯†å›¾è°±çˆ¬è™«å’Œæ„å»ºå™¨
â”‚   â”œâ”€â”€ generator.py     # é€»è¾‘ä»»åŠ¡éª¨æ¶ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ llm_client.py    # LLM API å®¢æˆ·ç«¯ï¼ˆæ”¯æŒå¤šæä¾›å•†ï¼‰
â”‚   â””â”€â”€ utils.py         # å·¥å…·å‡½æ•°ï¼ˆæ—¥å¿—è®°å½•å™¨ç­‰ï¼‰
â”œâ”€â”€ visualization/       # äº¤äº’å¼å¯è§†åŒ–ç•Œé¢
â”‚   â”œâ”€â”€ app.py           # ä¸» Streamlit åº”ç”¨ç¨‹åº
â”‚   â”œâ”€â”€ theme.py         # UI ä¸»é¢˜å’Œ CSS æ ·å¼
â”‚   â”œâ”€â”€ utils.py         # å¯è§†åŒ–å·¥å…·å‡½æ•°ï¼ˆæ•°æ®åŠ è½½ï¼‰
â”‚   â”œâ”€â”€ task_view.py     # ä»»åŠ¡åˆ†æé¢æ¿
â”‚   â””â”€â”€ graph_view.py    # å›¾è°±æ¢ç´¢é¢æ¿
â”œâ”€â”€ data/                # ç”Ÿæˆçš„æ•°æ®é›†ï¼ˆå›¾è°±å’Œä»»åŠ¡ï¼‰
â”œâ”€â”€ logs/                # è¿è¡Œæ—¶æ—¥å¿—
â””â”€â”€ main.py              # ç¨‹åºå…¥å£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. é…ç½®
å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼š

```bash
cp config/llm_config.example.yaml config/llm_config.yaml
```
ç¼–è¾‘ `config/llm_config.yaml` æ·»åŠ ä½ çš„ API Keysï¼ˆOpenAI/DeepSeek/ç­‰ï¼‰å’Œä»£ç†è®¾ç½®ã€‚

### 3. ä½¿ç”¨æ–¹æ³•
è¿è¡Œå®Œæ•´æµç¨‹ï¼š

```bash
# åŸºæœ¬è¿è¡Œï¼ˆä»¥ Taylor Swift ä¸ºç§å­ï¼‰
python main.py

# è‡ªå®šä¹‰è¿è¡Œï¼ˆä¸åŒçš„ç§å­å®ä½“å’Œè§„æ¨¡ï¼‰
python main.py --seed 42 --seed_entity Q2 --seed_label Earth --nodes 500 --tasks 50
```

### 4. äº¤äº’å¼å¯è§†åŒ–

å¯åŠ¨åŸºäº Streamlit çš„å›¾å½¢ç•Œé¢ï¼Œæ¢ç´¢ç”Ÿæˆçš„ä»»åŠ¡å’ŒçŸ¥è¯†å›¾è°±ï¼š

```bash
streamlit run visualization/app.py
```

**åŠŸèƒ½ç‰¹æ€§ï¼š**

- **å†·å¯åŠ¨æ¨¡å¼**
  - æ— æ•°æ®æ—¶å¯ç›´æ¥ä» Wikidata ç”Ÿæˆæ¼”ç¤ºæ•°æ®
  - å¯é…ç½®ç§å­å®ä½“ã€èŠ‚ç‚¹æ•°é‡å’Œä»»åŠ¡æ•°é‡
  - å®æ—¶è¿›åº¦è¿½è¸ªå’ŒçŠ¶æ€æ›´æ–°

- **ä»»åŠ¡åˆ†æé¢æ¿**
  - æµè§ˆå’Œæœç´¢å·²ç”Ÿæˆçš„ä»»åŠ¡ï¼Œæ”¯æŒå…³é”®è¯è¿‡æ»¤
  - æŸ¥çœ‹ç»†åŒ–çš„è‡ªç„¶è¯­è¨€æŸ¥è¯¢å’Œæ ‡å‡†ç­”æ¡ˆ
  - é€šè¿‡äº¤äº’å¼å‚ç›´æ—¶é—´çº¿æ£€æŸ¥å¤šè·³æ¨ç†é“¾
  - åŸºäºé¢†åŸŸçš„é¢œè‰²ç¼–ç ï¼ˆå¤šåª’ä½“/åœ°ç†æ—…è¡Œ/çŸ¥è¯†/ä¸ªäººï¼‰
  - åŸå§‹ JSON æ•°æ®æ£€æŸ¥ï¼Œä¾¿äºè°ƒè¯•

- **å›¾è°±æ¢ç´¢é¢æ¿**
  - äº¤äº’å¼çŸ¥è¯†å›¾è°±å¯è§†åŒ–ï¼ˆåŠ›å¯¼å‘å¸ƒå±€ï¼‰
  - å¯é€‰çš„åˆ†å±‚æ ‘çŠ¶å¸ƒå±€ï¼Œä¾¿äºç»“æ„åŒ–æŸ¥çœ‹
  - åŸºäºé¢†åŸŸå’ŒèŠ‚ç‚¹è¿æ¥åº¦çš„æ™ºèƒ½ç€è‰²
  - ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹è¯¦æƒ…å’Œè¿æ¥å…³ç³»
  - **å…³è”ä»»åŠ¡å‘ç°**ï¼šè‡ªåŠ¨æŸ¥æ‰¾å¹¶æ˜¾ç¤ºæ¶‰åŠé€‰ä¸­å®ä½“çš„ä»»åŠ¡
  - åŒºåˆ†å·²æ¶¦è‰²ä»»åŠ¡ï¼ˆå«è‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼‰å’ŒåŸå§‹ä»»åŠ¡ï¼ˆä»…é€»è¾‘è·¯å¾„ï¼‰
  - å¯è°ƒæ•´èŠ‚ç‚¹æ•°é‡å’Œæ ‡ç­¾å¯è§æ€§ä»¥ä¼˜åŒ–æ€§èƒ½
  - äº¤äº’å¼å›¾ä¾‹ï¼Œæ˜¾ç¤ºé¢†åŸŸå’Œæ¢çº½èŠ‚ç‚¹æŒ‡ç¤ºå™¨

- **ä¸“ä¸š UI è®¾è®¡**
  - æš—è‰²å­¦æœ¯ä¸»é¢˜é…ç»ç’ƒæ‹Ÿæ€å¡ç‰‡
  - æ¨¡å—åŒ–æ¶æ„ï¼Œæ˜“äºè‡ªå®šä¹‰
  - å“åº”å¼å¸ƒå±€ï¼Œç©ºé—´åˆ©ç”¨ç‡ä¼˜åŒ–

### ğŸ“¦ ä¾èµ–ç®¡ç†

å¦‚æœä½ æ·»åŠ äº†æ–°çš„åº“ï¼Œè¯·æ›´æ–° `requirements.txt` ä»¥ä¿æŒç¯å¢ƒçš„å¯å¤ç°æ€§ã€‚

**é€‰é¡¹ 1ï¼šä½¿ç”¨ pipreqsï¼ˆæ¨èï¼Œè·å¾—æ›´å¹²å‡€çš„ä¾èµ–ï¼‰**
è¿™ä¼šæ ¹æ®é¡¹ç›®ä¸­å®é™…çš„å¯¼å…¥æ¥ç”Ÿæˆ requirementsï¼Œé¿å…æœ¬åœ°ç¯å¢ƒçš„å¹²æ‰°ã€‚

```bash
# å¦‚æœè¿˜æ²¡æœ‰å®‰è£… pipreqs
pip install pipreqs

# ç”Ÿæˆ requirements.txtï¼ˆå¼ºåˆ¶è¦†ç›–ï¼‰
pipreqs . --force --ignore venv,data,logs,visualization,wikidata --encoding=utf-8
```

**é€‰é¡¹ 2ï¼šä½¿ç”¨ pip freezeï¼ˆæ ‡å‡†æ–¹å¼ï¼‰**

```bash
pip freeze > requirements.txt
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ•°æ®æ¥æºï¼š** Wikidataï¼ˆé€šè¿‡ SPARQLï¼‰
- **å›¾å¤„ç†ï¼š** NetworkX
- **LLM é›†æˆï¼š** OpenAI SDK / HTTPX
- **å¹¶å‘å¤„ç†ï¼š** ThreadPoolExecutor
- **å¯è§†åŒ–ï¼š**
  - Streamlitï¼ˆWeb æ¡†æ¶ï¼‰
  - Streamlit-Agraphï¼ˆäº¤äº’å¼å›¾è°±ï¼‰
  - NetworkXï¼ˆå›¾ç®—æ³•ï¼‰

## ğŸ“„ è®¸å¯è¯
MIT License
